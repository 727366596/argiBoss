<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
	<meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
	<title>公告列表</title>
	<link rel="stylesheet" href="../../css/common/public.css" />
	<script type="text/javascript" src="../../script/common/rem.js"></script>
	<script type="text/javascript" src="../../script/common/api.js"></script>
	<script type="text/javascript" src="../../script/common/jquery.min.js"></script>
	<script type="text/javascript" src="../../script/common/pds.ajax.js"></script>
	<style media="screen">
	html,body,.content{
		width: 100%;
		height: 100%;
	}
		.content_inner {
			width: 100%;
			height: 100%;
			font-size: 0.24rem;
			padding: 0.4rem 0;
			box-sizing: border-box;
			background: #dadada;
			font-size: 0.28rem;
			color: #204e41;
		}

		.content_inner li {
			width: 100%;
			height: 2.1rem;
			overflow: hidden;
			margin-bottom: 0.2rem;
			background: #ededed;
			padding: 0.3rem 0.4rem 0.26rem;
			box-sizing: border-box;
		}

		.left_img {
			width: 0.85rem;
			height: 100%;
			background-image: url(../../image/tonggao.png);
			background-repeat: no-repeat;
			background-size: 0.44rem 0.44rem;
			background-position: left center;
			float: left;
		}

		.right_content {
			float: right;
			width: 5.7rem;
		}

		.left {
			float: left;
		}

		.right {
			float: right;
			margin-top: 0.1rem;
			font-size: 0.24rem;
		}

		span {
			display: inline-block;
		}

		.title {
			width: 100%;
			line-height: 0.5rem;
			height: 1.2rem;
			padding: 0.2rem 0;
			box-sizing: border-box;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		.none{
			display: none;
		}
	</style>
</head>

<body>
	<div class="content">
		<ul class="content_inner" id="list">
			<!-- <li>
				<div class="left_img"></div>
				<div class="right_content">
					<div class="title">精神四isisis呢卷四十岁,哈哈哈哈哈哈哈哈哈哈哈哈</div>
					<span class="right">2012-10-01</span>
				</div>
			</li> -->
		</ul>
	</div>


</body>

<script type="text/javascript">
	apiready = function() {
		listCheck(api.pageParam)
	}

	function listCheck(data) {
		var html = ''
		for (var i = 0, len = data.length; i < len; i++) {
			var time = data[i].pubdate.split(' ')[0];
			html += '<li id="'+data[i].id+'" onclick="checkdetail(this)"><div class="left_img"><span class="none">'+data[i].content+'</span></div><div class="right_content">' +
        '<div class="title header">' + data[i].title + '</div><span class="name" style="display:none;">'+data[i].author+'</span>' +
				'<span class="right time">' + time + '</span></div></li>'
		}
		$('#list').html(html);
	}

	function checkdetail(obj) {
		var data={
			content:$(obj).find('.none').html(),
      title:$(obj).find('.header').html(),
			author:$(obj).find('.name').html(),
			time:$(obj).find('.time').html(),
			id:$(obj).attr('id')
		}
		api.openWin({
			name:'content-detail_win',
			url:'./content-detail_win.html',
			slidBackEnabled : false,
			pageParam:data,
			animation : {
				type : "movein", //动画类型（详见动画类型常量）
				subType : "from_right", //动画子类型（详见动画子类型常量）
				duration : 300 //动画过渡时间，默认300毫秒
			}
		})
	}
</script>

</html>
